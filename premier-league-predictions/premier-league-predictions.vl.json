{
  "width": 700,
  "height": 700,
  "padding": {"top": 50, "bottom": 50, "left": 20, "right": 20},
  "background": "white",
  "view": {"stroke": "transparent"},
  "data": {"url": "premier-league-predictions-data.json"},
  "encoding": {
    "x": {
      "field": "Team",
      "type": "nominal",
      "sort": {"field": "Current"},
      "axis": {
        "orient": "top",
        "grid": true,
        "gridOpacity": 1,
        "domain": false,
        "ticks": false,
        "labelPadding": 20,
        "labelFont": "segoe ui",
        "labelFontSize": 13,
        "title": null
      }
    }
  },
  "layer": [
    {
      "mark": {"type": "bar", "width": 15},
      "encoding": {
        "y": {
          "field": "Current",
          "type": "quantitative",
          "sort": "descending",
          "axis": null
        },
        "y2": {"field": "Prediction"},
        "color": {
          "condition": {
            "test": "datum.Current < datum.Prediction",
            "value": "#F34146"
          },
          "value": "#81C14F"
        }
      }
    },
    {
      "mark": {
        "type": "circle",
        "size": 500,
        "color": {
          "expr": "datum.Current < datum.Prediction ? '#F34146' : '#81C14F'"
        },
        "opacity": 1
      },
      "encoding": {"y": {"field": "Prediction", "type": "quantitative"}}
    },
    {
      "mark": {"type": "circle", "size": 600, "color": "#3D195B", "opacity": 1},
      "encoding": {"y": {"field": "Current", "type": "quantitative"}}
    },
    {
      "mark": {
        "type": "text",
        "dy": {"expr": "datum.Current < datum.Prediction ? 1 : 0"},
        "font": "segoe ui",
        "fontSize": 12,
        "color": {
          "expr": "datum.Current < datum.Prediction ? 'white' : 'black'"
        }
      },
      "encoding": {
        "y": {"field": "Prediction", "type": "quantitative"},
        "text": {"field": "Prediction"}
      }
    },
    {
      "mark": {
        "type": "text",
        "font": "segoe ui",
        "fontSize": 13,
        "color": "white"
      },
      "encoding": {
        "y": {"field": "Current", "type": "quantitative"},
        "text": {"field": "Current"}
      }
    }
  ]
}